(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-66d56030"],{1874:function(r,e,o){"use strict";o.r(e);var t=function(){var r=this,e=r.$createElement,o=r._self._c||e;return o("div",{staticClass:"login-container"},[o("div",{staticClass:"main"},[o("div",{staticClass:"gray-box"},[o("div",[!0!==r.config.logoDisabled&&r.config.logo?[r.isImageUrl(r.config.logo)?o("img",{staticClass:"logo",attrs:{src:r.config.logo,alt:r.config.APPName}}):o("span",{staticClass:"logo-text"},[r._v(r._s(r.config.logo))])]:r._e()],2),o("p",[r._v("私有化登录")])]),o("div",{staticClass:"white-box"},[o("div",{directives:[{name:"loading",rawName:"v-loading",value:r.inLoginLoading,expression:"inLoginLoading"}],staticClass:"login-box"},[r._m(0),o("el-form",{key:"loginForm",ref:"loginForm",staticClass:"login-form",attrs:{model:r.loginForm,rules:r.loginRules,size:"middle"},nativeOn:{submit:function(r){return r.preventDefault()}}},[o("el-form-item",{attrs:{prop:"username",label:"用户名"}},[o("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:r.loginForm.username,callback:function(e){r.$set(r.loginForm,"username",e)},expression:"loginForm.username"}})],1),o("el-form-item",{attrs:{prop:"password",label:"密码"}},[o("el-input",{attrs:{type:"password",placeholder:"请输入密码"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&r._k(e.keyCode,"enter",13,e.key,"Enter")?null:r.loginSubmit.apply(null,arguments)}},model:{value:r.loginForm.password,callback:function(e){r.$set(r.loginForm,"password",e)},expression:"loginForm.password"}})],1)],1),o("el-button",{staticClass:"login-btn",attrs:{type:"primary"},on:{click:r.loginSubmit}},[r._v("登录")])],1)])])])},n=[function(){var r=this,e=r.$createElement,o=r._self._c||e;return o("div",{staticClass:"line"},[o("div",[r._v("登录")])])}],i=o("791a"),s=o.n(i),a=(o("231d"),o("cc33")),c=o("cf45"),l={name:"TheLogin",components:{},data(){return{config:this.$config,inLoginLoading:!1,isImageUrl:c["e"],loginForm:{username:"",password:""},loginRules:{username:[{required:!0,message:"必填",trigger:"blur"}],password:[{required:!0,message:"必填",trigger:"blur"}]},messageHandler:r=>{const{data:e,origin:o,source:t}=r;this.$config.allowOrigins.includes(o)&&t===window.parent&&"emitUpdateConfig"===e.type&&(this.config=this.$config)}}},beforeDestroy(){window.removeEventListener("message",this.messageHandler)},created(){window.addEventListener("message",this.messageHandler),document.title="登录"},methods:{login(){const{form:r,headers:e}=window.APD_TK;return r.password=this.loginForm.password,r.username=this.loginForm.username,this.inLoginLoading=!0,this.$axios.post("/oauth/token",s.a.stringify(r),{headers:e}).then(r=>{this.enter(r)}).finally(()=>{this.inLoginLoading=!1})},enter(r){const e=this.$config;e.token="bearer "+r.access_token,Object(a["c"])(e.token);const o=this.$route.query,{from:t,redirect:n}=o;t?window.location.href=t:n?this.$router.replace({path:n}):this.$router.replace({path:"/"})},loginSubmit(){this.$refs.loginForm.validate(r=>{r&&this.login()})}}},d=l,m=(o("e5c6"),o("a723"),o("3e2b")),u=Object(m["a"])(d,t,n,!1,null,"357f180c",null);e["default"]=u.exports},"231d":function(r,e,o){(function(r,e){o("567c"),o("e62e");var t="jsjiami.com.v6",n=[t,"w4x7NXxpdSPDkA==","wo51w5lPwo1rwqBpQsOdJsOvw4XCimUywqASM8KFZ8KTIjd1AkdrN1Vcw5xo","w54ow4YBZWA=","byxIVcKwFl3DqA==","wqvDhcKpQFg=","PMOfb8OGwoU=","wrhpw7TDscOU","asKuT3DClQ==","wrpbLw==","DcOHwrt2MS8twoLCtA==","jLsjihamqWtixT.coBrm.v6nRkUHgK=="];(function(r,e,o){var t=function(e,o,t,n,i){o>>=8,i="po";var s="shift",a="push";if(o<e){while(--e)n=r[s](),o===e?(o=n,t=r[i+"p"]()):o&&t["replace"](/[LhqWtxTBrnRkUHgK=]/g,"")===o&&r[a](n);r[a](r[s]())}return 697041};t(++e,o)})(n,438,112128);var i=function(o,t){o=~~"0x"["concat"](o);var s=n[o];if(void 0===i["pKWHEt"]){(function(){var o="undefined"!==typeof window?window:"object"===typeof r&&"object"===typeof e?e:this,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o["atob"]||(o["atob"]=function(r){for(var e,o,n=String(r)["replace"](/=+$/,""),i=0,s=0,a="";o=n["charAt"](s++);~o&&(e=i%4?64*e+o:o,i++%4)?a+=String["fromCharCode"](255&e>>(-2*i&6)):0)o=t["indexOf"](o);return a})})();var a=function(r,e){var o,t=[],n=0,i="",s="";r=atob(r);for(var a=0,c=r["length"];a<c;a++)s+="%"+("00"+r["charCodeAt"](a)["toString"](16))["slice"](-2);r=decodeURIComponent(s);for(var l=0;l<256;l++)t[l]=l;for(l=0;l<256;l++)n=(n+t[l]+e["charCodeAt"](l%e["length"]))%256,o=t[l],t[l]=t[n],t[n]=o;l=0,n=0;for(var d=0;d<r["length"];d++)l=(l+1)%256,n=(n+t[l])%256,o=t[l],t[l]=t[n],t[n]=o,i+=String["fromCharCode"](r["charCodeAt"](d)^t[(t[l]+t[n])%256]);return i};i["DMxoHJ"]=a,i["RVeJCu"]={},i["pKWHEt"]=!0}var c=i["RVeJCu"][o];return void 0===c?(void 0===i["eGwfcB"]&&(i["eGwfcB"]=!0),s=i["DMxoHJ"](s,t),i["RVeJCu"][o]=s):s=c,s};(function(){var r={ZgUYc:i("0","#v1J"),LGrSA:"hiekn",Ofrer:i("1","%gFl"),yfgxB:"d0f5362a-e088-8c91-a8ed-c76376820ef8",XYdFW:i("2","5luB"),xWBQJ:i("3","%UKw")};window[i("4","Tq2j")]={form:{grant_type:i("5","es28"),scope:r[i("6","l(!4")],client_id:r["LGrSA"],client_secret:r[i("7","XTyb")]},headers:{"postman-token":r[i("8","c9(c")],"cache-control":r[i("9","Xn&^")],"content-type":r["xWBQJ"]}}})(),t="jsjiami.com.v6"}).call(this,o("751e"),o("2eae"))},3743:function(r,e,o){var t=o("cdb5"),n=TypeError;r.exports=function(r,e){if(t(e,r))return r;throw n("Incorrect invocation")}},"8a5b":function(r,e,o){},a723:function(r,e,o){"use strict";o("8a5b")},e43b:function(r,e,o){},e5c6:function(r,e,o){"use strict";o("e43b")},e62e:function(r,e,o){"use strict";var t=o("7291"),n=o("eb60"),i=o("a913"),s=o("d605"),a=o("26d4").f,c=o("b760"),l=o("3743"),d=o("8381"),m=o("79cf"),u=o("f58f"),g=o("2d7a"),f=o("9b4a"),E=o("b44e"),p="DOMException",R=i("Error"),w=i(p),v=function(){l(this,h);var r=arguments.length,e=m(r<1?void 0:arguments[0]),o=m(r<2?void 0:arguments[1],"Error"),t=new w(e,o),n=R(e);return n.name=p,a(t,"stack",s(1,g(n.stack,1))),d(t,this,v),t},h=v.prototype=w.prototype,_="stack"in R(p),b="stack"in new w(1,2),A=w&&f&&Object.getOwnPropertyDescriptor(n,p),C=!!A&&!(A.writable&&A.configurable),I=_&&!C&&!b;t({global:!0,constructor:!0,forced:E||I},{DOMException:I?v:w});var O=i(p),T=O.prototype;if(T.constructor!==O)for(var D in E||a(T,"constructor",s(1,O)),u)if(c(u,D)){var y=u[D],N=y.s;c(O,N)||a(O,N,s(6,y.c))}},f58f:function(r,e){r.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}}}]);