(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2452befb"],{"2e48":function(e,t,i){"use strict";i("c376")},a168:function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("iframe",{key:e.iframeUrl,ref:"iframe",attrs:{src:e.iframeUrl,frameborder:"0"}})},o=[],n=i("fedb"),a=i.n(n),s=(i("567c"),i("cc4f")),u={name:"TheIframe",components:{},data(){return{routeData:this.$config.params||{},messageHandler:e=>{var t;const i=null===(t=this.$refs.iframe)||void 0===t?void 0:t.contentWindow;if(i){const{data:t,origin:r,source:o}=e;if(o===i&&this.$config.allowOrigins.includes(r))if("emitRouteParams"===t.type){const{data:e,path:i}=t;Object.keys(e).forEach(t=>{a()(this.routeData,(i?i+".":"")+t,e[t])})}else if("emitRouteChange"===t.type||"emitOpenNewWindow"===t.type){const{origin:e,base:r,route:o,params:n,fullPath:a}=t.data,s=r+o,u=e+s;let l="";this.matchUrl(u)?l=u:this.matchUrl(s)&&(l=s);const d=this.$router.resolve({params:{url:l},query:{routeParams:n?JSON.stringify(n):void 0}});"emitRouteChange"===t.type&&l!==this.$route.params.url?this.$router.push(d.location):"emitOpenNewWindow"===t.type&&l&&(window.name.startsWith(this.$config.windowPreviewName)?window.open(d.href,this.$config.windowPreviewName+"/"+(new Date).getTime()):window.open(d.href),i.postMessage({type:"openNewWindowSuccess",data:{fullPath:a}},e))}}}}},computed:{iframeUrl(){let e=this.$route.params.url;const t=this.$config.updateUrl;let i=this.$route.query.routeParams;i=i?JSON.parse(i):{};const r=s["parse"](e,!0),o=r.pathname,n=o.substring(1).split("/")[0],a=Object.assign({},r.query);if(o.includes("/:")||Object.keys(a).length){var u;const s=o.split("/").map(e=>{if(e.startsWith(":")){var r,a,s,u,l,d,c;const f=e.substring(1),h=null===(r=this.$config.menusDefaultValue[o])||void 0===r?void 0:r.params,v=null!==(a=null===(s=i)||void 0===s||null===(u=s.params)||void 0===u?void 0:u[f])&&void 0!==a?a:t?null!==(l=null!==(d=null===(c=this.routeData[n])||void 0===c?void 0:c[f])&&void 0!==d?d:this.routeData[f])&&void 0!==l?l:null===h||void 0===h?void 0:h[f]:void 0;return void 0===v?e:v}return e}).join("/");Object.keys(a).forEach(e=>{var i,r,s,u;const l=null===(i=this.$config.menusDefaultValue[o])||void 0===i?void 0:i.query,d=t?null!==(r=null!==(s=null===(u=this.routeData[n])||void 0===u?void 0:u[e])&&void 0!==s?s:this.routeData[e])&&void 0!==r?r:null===l||void 0===l?void 0:l[e]:void 0;a[e]=""!==a[e]?a[e]:void 0===d?"":d});const l=this.$router.resolve({path:s,query:Object.assign(a,(null===(u=i)||void 0===u?void 0:u.query)||{})}).route.fullPath;e=r.protocol&&r.host?r.protocol+"//"+r.host+l:l}return e}},beforeDestroy(){window.removeEventListener("message",this.messageHandler)},created(){window.addEventListener("message",this.messageHandler)},methods:{matchUrl(e){const t=i=>{let r=!1;return i.forEach(i=>{var o;const n=i.config.route;if(n){let t=n.href;var a;if(!t&&"iframe"===n.name)t=null===(a=n.params.find(e=>"url"===e.key))||void 0===a?void 0:a.value;t===e&&(r=!0)}null!==(o=i.children)&&void 0!==o&&o.length&&t(i.children)&&(r=!0)}),r};return t(this.$config.menus)}}},l=u,d=(i("2e48"),i("3e2b")),c=Object(d["a"])(l,r,o,!1,null,"56e7edde",null);t["default"]=c.exports},c376:function(e,t,i){},d31a:function(e,t,i){var r=i("d6b8"),o=i("d838"),n=i("ae21"),a=i("1e49"),s=i("2018");function u(e,t,i,u){if(!a(e))return e;t=o(t,e);var l=-1,d=t.length,c=d-1,f=e;while(null!=f&&++l<d){var h=s(t[l]),v=i;if("__proto__"===h||"constructor"===h||"prototype"===h)return e;if(l!=c){var m=f[h];v=u?u(m,h,f):void 0,void 0===v&&(v=a(m)?m:n(t[l+1])?[]:{})}r(f,h,v),f=f[h]}return e}e.exports=u},fedb:function(e,t,i){var r=i("d31a");function o(e,t,i){return null==e?e:r(e,t,i)}e.exports=o}}]);